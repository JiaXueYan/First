webpackJsonp([11],{"15sd":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"company"}},[a("div",{staticClass:"company_nav"},[a("div",{staticClass:"title"},[t._v("\n      公司管理\n      "),a("el-button",{staticStyle:{float:"right","margin-top":"8px"},attrs:{size:"mini",title:"添加角色"},on:{click:function(e){t.registration=!0}}},[t._v("注册公司 "),a("i",{staticClass:"el-icon-plus"})]),a("el-tooltip",{attrs:{effect:"light",placement:"right","visible-arrow":t.tool}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("公司注册")]),a("el-button",{staticClass:"help iconfont"},[t._v("")])],1)],1)]),a("div",{staticClass:"company_con"},[a("div",{attrs:{id:"search"}},[a("div",{staticClass:"shuaxin"},[a("span",{staticClass:"shauxinspan",class:t.shua?"":"shuaxinBlue",on:{click:t.shuaxin}},[a("i",{staticClass:"iconfont shuaxinc",class:t.shua?"":"rotateI"},[t._v("")]),t._v(" 刷新 ")])]),t._m(0)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.onOff,expression:"onOff"}],attrs:{data:t.companytable,height:"100%",width:"100%","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{label:"企业名称",prop:"companyName",sortable:""}}),a("el-table-column",{attrs:{label:"企业电话",prop:"tel",sortable:""}}),a("el-table-column",{attrs:{label:"企业账户",prop:"companyAccount",sortable:""}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",sortable:""}}),a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime",sortable:""}}),a("el-table-column",{attrs:{label:"企业邮编",prop:"postCode",sortable:""}}),a("el-table-column",{attrs:{label:"企业地址",prop:"address",width:"400",sortable:""}}),a("el-table-column",{attrs:{label:"备注",prop:"comment",sortable:""}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{margin:"0"},attrs:{size:"mini"},on:{click:function(a){t.setCompany(e.row)}}},[t._v(" 编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.deletCompany(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"修改企业信息",visible:t.businessOnOff,"append-to-body":!0,"before-close":t.escUseRote},on:{"update:visible":function(e){t.businessOnOff=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"企业账户"}},[a("span",[t._v(t._s(t.setCom.companyAccount))])]),a("el-form-item",{attrs:{label:"企业名称"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.setCom.companyName,callback:function(e){t.$set(t.setCom,"companyName",e)},expression:"setCom.companyName"}})],1),a("el-form-item",{attrs:{label:"企业电话"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.setCom.tel,callback:function(e){t.$set(t.setCom,"tel",e)},expression:"setCom.tel"}})],1),a("el-form-item",{attrs:{label:"企业地址"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.setCom.address,callback:function(e){t.$set(t.setCom,"address",e)},expression:"setCom.address"}})],1),a("el-form-item",{attrs:{label:"企业邮编"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.setCom.postCode,callback:function(e){t.$set(t.setCom,"postCode",e)},expression:"setCom.postCode"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.setCom.comment,callback:function(e){t.$set(t.setCom,"comment",e)},expression:"setCom.comment"}})],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.businessOnOff=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sendChange()}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"注册公司",visible:t.registration,"append-to-body":!0,"before-close":t.escRea},on:{"update:visible":function(e){t.registration=e}}},[a("el-form",{ref:"company",staticStyle:{"text-align":"left"},attrs:{model:t.company,rules:t.companyRules,"label-position":"left"}},[a("el-form-item",{attrs:{label:"企业账户",prop:"companyAccount"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.company.companyAccount,callback:function(e){t.$set(t.company,"companyAccount",e)},expression:"company.companyAccount"}})],1),a("el-form-item",{attrs:{label:"企业名称",prop:"companyName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.company.companyName,callback:function(e){t.$set(t.company,"companyName",e)},expression:"company.companyName"}})],1),a("el-form-item",{attrs:{label:"企业电话",prop:"tel"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.company.tel,callback:function(e){t.$set(t.company,"tel",e)},expression:"company.tel"}})],1),a("el-form-item",{attrs:{label:"企业地址",prop:"address"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.company.address,callback:function(e){t.$set(t.company,"address",e)},expression:"company.address"}})],1),a("el-form-item",{attrs:{label:"企业邮编",prop:"postCode"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.company.postCode,callback:function(e){t.$set(t.company,"postCode",e)},expression:"company.postCode"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"comment",required:!0}},[a("el-input",{staticStyle:{width:"240px"},attrs:{type:"text"},model:{value:t.company.comment,callback:function(e){t.$set(t.company,"comment",e)},expression:"company.comment"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sendBusinessa("company")}}},[t._v("提交")]),a("el-button",{on:{click:function(e){t.resetForma("company")}}},[t._v("重置")])],1)],1)],1)],1)])};s._withStripped=!0;var o={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search_con"},[e("i",{staticClass:"iconfont"},[this._v("")]),e("input",{attrs:{type:"search",placeholder:"请输入搜索内容"}})])}]};e.a=o},ItNX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("bUZC"),o=a("15sd"),n=!1;var i=function(t){n||a("kZAU")},c=a("X4nt")(s.a,o.a,!1,i,null,null);c.options.__file="pages\\System\\company\\index.vue",e.default=c.exports},bUZC:function(t,e,a){"use strict";e.a={name:"company",data:function(){var t=function(t,e,a){""===e?a(new Error("此处不能为空")):a()};return{businessOnOff:!1,registration:!1,onOff:!0,shua:!0,tool:!1,companytable:[{companyName:"",companyAccount:"",tel:"",address:"",postCode:"",createTime:"",updateTime:"",comment:""}],setCom:[],company:{companyAccount:"",companyName:"",comment:"",tel:"",address:"",postCode:""},companyRules:{companyName:[{required:!0,validator:t,trigger:"blur"}],companyAccount:[{required:!0,validator:t,trigger:"blur"}],tel:[{required:!0,validator:t,trigger:"blur"}],address:[{required:!0,validator:t,trigger:"blur"}],postCode:[{required:!0,validator:t,trigger:"blur"}]}}},methods:{resetForma:function(t){this.$refs[t].resetFields()},sendBusinessa:function(){var t=this;this.$axios.post("/company/addCompany",{companyAccount:this.company.companyAccount,companyName:this.company.companyName,comment:this.company.comment,tel:this.company.tel,address:this.company.address,postCode:this.company.postCode}).then(function(e){200==e.data.status?t.$notify({title:"成功",message:"企业"+t.company.companyName+e.data.msg,type:"success"}):400==e.data.status?t.$message({type:"error",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})},resetForm:function(t){this.$refs[t].resetFields()},sendBusiness:function(){var t=this;this.$axios.post("/company/addCompany",{companyAccount:this.company.companyAccount,companyName:this.company.companyName,comment:this.company.comment,tel:this.company.tel,address:this.company.address,postCode:this.company.postCode}).then(function(e){200==e.data.status?t.$notify({title:"成功",message:"企业"+t.company.companyName+e.data.msg,type:"success"}):400==e.data.status?t.$message({type:"error",message:e.data.msg}):t.$message({type:"warning",message:e.data.msg})})},escRea:function(){this.registration=!1,this.$message({message:"取消注册公司"})},escUseRote:function(){this.businessOnOff=!1,this.$message({type:"info",message:"取消修改"})},sendChange:function(){var t=this;this.$axios.post("/company/updCompany",{id:this.setCom.id,companyName:this.setCom.companyName,comment:this.setCom.comment,tel:this.setCom.tel,address:this.setCom.address,postCode:this.setCom.postCode}).then(function(e){200==e.data.status&&(t.$notify({title:"成功",type:"success",message:e.data.msg}),t.getAllCompany(),t.businessOnOff=!1)})},getAllCompany:function(){var t=this;this.$axios.post("/company/getall").then(function(e){t.shua=!0,t.companytable=e.data.data,t.onOff=!1})},deletCompany:function(t){var e=this;this.$confirm("此企业信息将被删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/company/delCompany",{id:t.id}).then(function(t){200==t.data.status?e.$message({type:"success",message:"删除成功!"}):e.$message({type:"error",message:t.data.msg}),e.getAllCompany()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},setCompany:function(t){this.businessOnOff=!0,this.setCom={address:t.address,comment:t.comment,companyAccount:t.companyAccount,companyName:t.companyName,id:t.id,postCode:t.postCode,tel:t.tel}},shuaxin:function(){var t=this;this.shua=!1,this.getAllCompany(),setTimeout(function(){t.shua=!0},600)}},mounted:function(){this.getAllCompany()},beforeMount:function(){this.onOff=!0}}},kZAU:function(t,e,a){var s=a("o5Q9");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("FIqI")("4a055c8c",s,!1,{sourceMap:!1})},o5Q9:function(t,e,a){(t.exports=a("UTlt")(!1)).push([t.i,"#company{width:100%;height:100%;position:relative}.company_nav{height:44px;text-align:left;line-height:44px;font-size:14px;font-family:黑体;font-weight:700;border-bottom:1px solid #dfdfdf}.company_nav .title{width:96%;margin:0 auto;height:44px}.company_con{width:96%;margin:20px auto;font-size:14px;height:600px;position:relative;padding-top:50px}",""])}});